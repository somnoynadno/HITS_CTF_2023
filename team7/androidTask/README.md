# HITS_CTF_2023
Автор: Буйлук Денис

# Описание
Для получения флага необходимо отправить GET запрос <<BASE_URL, где будет развёрнута задача>>api/web/flag

Но не всё так легко...Получить флаг могут только авторизированные пользователи.

Есть мобильное приложение, которое взаимодействует с этим же сервером. В нём есть уязвимость.

**Подсказка:** apk собран в debug версии. Для решения задачи **нет** необходимости получать root доступ на вашем устройстве.

# Преподавателям
### Флаг
Флаг находится в WebForMobile -> WebForMobile -> appsettings.json

### Backend
Для работы сервера необходимо в папке WebForMobile выполнить команды 
1. docker-compose build
2. docker-compose run

### Решение
1. Установить приложение app-mobile.apk
2. Заполнить поля на главном экране: 1) Ввести любую почту 2) Ввести BASE_URL. *Если запускать локально, то нужно ввести http://<api ПК, где запущен сервер>:8080/*
3. После успешного входа в систему подключить устройство к любому ПК, где есть Android Studio.
4. С помощью *Device File Explorer* перейти data -> data -> com.example.group7ctfmobile -> shared_prefs -> открыть xml файл 
(*Это возможно, т.к. приложение собрано в debug версии, чтобы для решения задачи не нужно было получать root доступ, 
т.к. это очень опасно, не считая того, что банковские приложения перестают работать пока на утстройстве активен root доступ*)
5. Обнаружить **уязвимость** - файл настроек не зашифрован. Скопировать access token.
6. С помощью Postman отправить требуемый в описании запрос, добавив скопированный Bearer токен.
7. В ответе получить **флаг**
